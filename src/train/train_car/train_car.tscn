[gd_scene load_steps=12 format=3 uid="uid://q5inrad673eu"]

[ext_resource type="Script" uid="uid://mwmjbw4h5atj" path="res://train/train_car/train_car.gd" id="1_epm51"]
[ext_resource type="Script" uid="uid://cvss8a1areo2m" path="res://train/train_car/train_car_passengers.gd" id="2_wg80q"]
[ext_resource type="Texture2D" uid="uid://dxgwxrjk4y3k6" path="res://train/assets/train_car_main.png" id="3_db7h0"]
[ext_resource type="Texture2D" uid="uid://b3u1tvhfbgi3g" path="res://train/assets/train_car_outer.png" id="4_p5f2p"]
[ext_resource type="LabelSettings" uid="uid://clh2mlvglkjke" path="res://assets/clean_label.tres" id="4_wg80q"]
[ext_resource type="Texture2D" uid="uid://ccrfjun5imw8p" path="res://train/assets/train_car_balcony.png" id="5_p5f2p"]
[ext_resource type="Texture2D" uid="uid://ydjy8agj18jw" path="res://train/assets/train_car_lighting.png" id="6_43agg"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fwggs"]
size = Vector2(20, 448)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_apqtr"]
size = Vector2(20, 1231)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_1auyj"]
polygon = PackedVector2Array(17, 168, 1141, 171, 1136, 180, 25, 178)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_43agg"]
size = Vector2(1060, 100)

[node name="TrainCar" type="Node2D"]
script = ExtResource("1_epm51")

[node name="Passengers" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("2_wg80q")
metadata/_custom_type_script = "uid://cvss8a1areo2m"

[node name="VisualRoot" type="CanvasGroup" parent="."]
light_mask = 3

[node name="Main" type="Sprite2D" parent="VisualRoot"]
unique_name_in_owner = true
light_mask = 3
texture_filter = 3
position = Vector2(577, 362)
texture = ExtResource("3_db7h0")

[node name="Outer" type="Sprite2D" parent="VisualRoot"]
unique_name_in_owner = true
light_mask = 3
z_index = 10
z_as_relative = false
texture_filter = 3
position = Vector2(581, 362)
texture = ExtResource("4_p5f2p")

[node name="Outer2" type="Sprite2D" parent="VisualRoot"]
unique_name_in_owner = true
light_mask = 3
z_index = 10
z_as_relative = false
texture_filter = 3
position = Vector2(581, 362)
texture = ExtResource("4_p5f2p")
flip_h = true

[node name="BalconyFloor" type="Sprite2D" parent="VisualRoot"]
light_mask = 3
texture_filter = 3
position = Vector2(1171, 556)
texture = ExtResource("5_p5f2p")

[node name="BalconyFloor2" type="Sprite2D" parent="VisualRoot"]
light_mask = 3
texture_filter = 3
position = Vector2(-9, 556)
texture = ExtResource("5_p5f2p")
flip_h = true

[node name="PointLight2D" type="PointLight2D" parent="VisualRoot"]
position = Vector2(585, 370)
color = Color(0.954855, 0.798014, 0.589491, 1)
energy = 0.4
range_item_cull_mask = 2
texture = ExtResource("6_43agg")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 0

[node name="WallLeft" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(45, 363)
shape = SubResource("RectangleShape2D_fwggs")
disabled = true

[node name="Floor" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(575, 579)
rotation = 1.5708
scale = Vector2(1, 1.16)
shape = SubResource("RectangleShape2D_apqtr")

[node name="Roof" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(575, 131)
rotation = 1.5708
shape = SubResource("RectangleShape2D_apqtr")

[node name="Capacity" type="Label" parent="."]
unique_name_in_owner = true
visible = false
offset_left = -40.0
offset_top = 91.0
offset_right = 55.0
offset_bottom = 114.0
text = "Capacity 2/3"
label_settings = ExtResource("4_wg80q")

[node name="Seats" type="Node2D" parent="."]

[node name="Seat" type="Marker2D" parent="Seats" groups=["flip_seat", "seat"]]
position = Vector2(230, 490)

[node name="Seat2" type="Marker2D" parent="Seats" groups=["seat"]]
position = Vector2(429, 490)

[node name="Seat3" type="Marker2D" parent="Seats" groups=["flip_seat", "seat"]]
position = Vector2(716, 494)

[node name="Seat4" type="Marker2D" parent="Seats" groups=["seat"]]
position = Vector2(914, 490)

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_1auyj")
occluder_light_mask = 3

[node name="InsideArea" type="Area2D" parent="."]
position = Vector2(583, 520)
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="InsideArea"]
shape = SubResource("RectangleShape2D_43agg")

[connection signal="body_entered" from="InsideArea" to="." method="_on_inside_area_body_entered"]
[connection signal="body_exited" from="InsideArea" to="." method="_on_inside_area_body_exited"]
