[gd_scene load_steps=18 format=3 uid="uid://cftgf0k2vg1lw"]

[ext_resource type="Script" uid="uid://ccq17g0e2p25n" path="res://ghost/ghost_ticket/ghost_ticket.gd" id="1_opmfl"]
[ext_resource type="Shader" uid="uid://fh541b4wyj8i" path="res://map/map_3d/unshaded.gdshader" id="2_0vsax"]
[ext_resource type="AudioStream" uid="uid://cajxb1qd61e14" path="res://sounds/stamp1.wav" id="2_22pvm"]
[ext_resource type="AudioStream" uid="uid://cf23a7r7bvjiw" path="res://sounds/stamp2.wav" id="3_ie14p"]
[ext_resource type="Texture2D" uid="uid://c3y21l7i04tjv" path="res://ghost/assets/ticket.png" id="3_qrp0t"]
[ext_resource type="Texture2D" uid="uid://c03yavv14derd" path="res://ghost/assets/stamp_outline.png" id="4_0vsax"]
[ext_resource type="AudioStream" uid="uid://c1n15t8ceypit" path="res://sounds/stamp3.wav" id="4_eijvd"]
[ext_resource type="FontFile" uid="uid://dk0n5v3auw1kn" path="res://assets/fonts/WinkyRough-VariableFont_wght.ttf" id="4_j5t6i"]
[ext_resource type="Script" uid="uid://br5k6746jyyb5" path="res://components/scroll_text/scroll_text_component.gd" id="5_0vsax"]
[ext_resource type="Texture2D" uid="uid://dul326snewiay" path="res://ghost/assets/stamp.png" id="5_awf8o"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qrp0t"]
shader = ExtResource("2_0vsax")

[sub_resource type="LabelSettings" id="LabelSettings_0jgwy"]
font = ExtResource("4_j5t6i")
font_size = 44
font_color = Color(0.231373, 0.317647, 0.627451, 1)
outline_size = 10
outline_color = Color(0.819608, 0.933333, 0.980392, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0vsax"]
shader = ExtResource("2_0vsax")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_awf8o"]
shader = ExtResource("2_0vsax")

[sub_resource type="Animation" id="Animation_awf8o"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("VisualRoot/Stamp:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(55, -28)]
}

[sub_resource type="Animation" id="Animation_0vsax"]
resource_name = "stamp_shake"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("VisualRoot/Stamp:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.233333, 0.533333, 0.766667, 0.98),
"transitions": PackedFloat32Array(1.86607, 0.707107, 1.46409, 0.63728, 1.51572),
"update": 0,
"values": [Vector2(55, -28), Vector2(-7, 45), Vector2(-3, -57), Vector2(48, -5), Vector2(-37, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_j5t6i"]
_data = {
&"RESET": SubResource("Animation_awf8o"),
&"stamp_shake": SubResource("Animation_0vsax")
}

[node name="GhostTicket" type="Node2D"]
script = ExtResource("1_opmfl")
stamp_audio_streams = Array[AudioStream]([ExtResource("2_22pvm"), ExtResource("3_ie14p"), ExtResource("4_eijvd")])

[node name="VisualRoot" type="CanvasGroup" parent="."]
unique_name_in_owner = true
light_mask = 0

[node name="Ticket" type="Sprite2D" parent="VisualRoot"]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_qrp0t")
scale = Vector2(0.8, 0.8)
texture = ExtResource("3_qrp0t")

[node name="Station" type="Label" parent="VisualRoot/Ticket"]
unique_name_in_owner = true
use_parent_material = true
offset_left = -27.5
offset_top = -7.5
offset_right = 12.5
offset_bottom = 51.5
text = "A"
label_settings = SubResource("LabelSettings_0jgwy")

[node name="Stamp" type="Sprite2D" parent="VisualRoot"]
unique_name_in_owner = true
visible = false
material = SubResource("ShaderMaterial_0vsax")
position = Vector2(55, -28)
rotation = -0.551524
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_0vsax")

[node name="Inner" type="Sprite2D" parent="VisualRoot/Stamp"]
unique_name_in_owner = true
visible = false
material = SubResource("ShaderMaterial_awf8o")
position = Vector2(0.262993, 7.20631)
texture = ExtResource("5_awf8o")

[node name="ScrollTextComponent" type="Node2D" parent="VisualRoot"]
unique_name_in_owner = true
position = Vector2(0, -61)
script = ExtResource("5_0vsax")
metadata/_custom_type_script = "uid://br5k6746jyyb5"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_j5t6i")
}
autoplay = "stamp_shake"
speed_scale = 0.4

[node name="StampAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
